<div class="container" data-ng-controller="tableCtrl as tctrl">

    <div data-ng-init="tctrl.init(); tctrl.getCoursesOfStudent(); "></div>

    <div class="block-header" style="text-align: center">
        <h1>Notas</h1>
    </div>

    <!-- AFTER YOU PICK A COURSE SHOW SUMMARY OF COURSE GRADES (fixed) THEN BELOW IT HAVE A TABL WITH USER GRADES -->

    <div class="card">
        <div  class="card-header">

        </div>

        <br>

        <!-- eventually make this multiple course..which profs  -->
        <div class="form-group fg-float m-b-30" style="max-width: 70%; margin: 0 auto">
            <div class="fg-line">
                <select id="studentChosenCourse" chosen data-placeholder="Escolhe o curso"  class="w-100" ng-model="h" ng-options="(h.courseID + ' -- ' + h.courseSection + ' -- ' + h.courseYear + ' -- ' + h.courseName) for h in courses"  ng-change="tctrl.getCourseStudents(h)" >
                    <option></option>
                </select>
            </div>
        </div> 

        <div class="form-group fg-float m-b-30" style="max-width: 70%; margin: 0 auto">
            <div class="fg-line">
                <select id="studentChosenUser" chosen data-placeholder="Escolhe o estudante"  class="w-100" ng-model="n" ng-options="(n.userID + ' -- ' + n.firstName + ' -- ' + n.lastName) for n in pcourses"  ng-change="tctrl.getStudentGradesInCourse(n)" >
                    <option></option>
                </select>
            </div>
        </div> 

        <div class="card-body">

<!-- IF HAVE TIME SHOW INFO ON COURSE -->







         <!-- <div class="card-body"> -->
            <div class="table-responsive">
                <table ng-table="tctrl.tableEdit " class="table table-striped table-vmiddle">
                    <tr ng-repeat="w in pgrades"  ng-class="{ 'active': w.$edit }">                         

                        <td data-title="'Nome'">
                            <span ng-if="true">{{ w.firstName }} {{ w.lastName }}</span>
                            <div ng-if="false"><input class="form-control" type="text" ng-model="w.userID" /></div>
                        </td>

                         <td data-title="'Nota'">
                            <span ng-if="!w.$edit">{{ w.grade }}</span>
                            <div ng-if="w.$edit"><input class="form-control" type="text" ng-model="w.grade" /></div>
                        </td>

                        <td data-title="'Descrição'">
                            <span ng-if="!w.$edit">{{ w.description }}</span>
                            <div ng-if="w.$edit"><input class="form-control" type="text" ng-model="w.description" /></div>
                        </td>
                        
                        <td data-title="'Editar'" ng-if="!w.apple">
                            <button type="button" class="btn btn-default" ng-if="!w.$edit; " ng-click="w.$edit = true"><i class="zmdi zmdi-edit"></i></button>
                            <button type="button" class="btn btn-success" ng-if="w.$edit" ng-click="w.$edit = false; tctrl.updateGrade(w)"><i class="zmdi zmdi-check"></i></button>
                       </td>

                        <td data-title="'Deletar'">
                            <button type="button" class="btn btn-default" ng-if="!w.apple" ng-click="tctrl.deleteGrade(w); w.apple = true"><i class="zmdi zmdi-delete zmdi-hc-fw"></i></button>
                            <div ng-if"w.apple"></div>   
                        </td>     

                    </tr>
                </table>
            </div>
        <!-- </div> -->




        </div>
    </div>   
</div>




